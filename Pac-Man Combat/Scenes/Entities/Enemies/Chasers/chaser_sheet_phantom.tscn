[gd_scene load_steps=29 format=3 uid="uid://jrakklk0fjde"]

[ext_resource type="PackedScene" uid="uid://byf88knlr3kiy" path="res://Scenes/Entities/Enemies/Chasers/enemy_chaser_base.tscn" id="1_4seie"]
[ext_resource type="Script" path="res://Scripts/Entities/Enemies/Movement/MoveTowardsMovement.gd" id="2_8rin2"]
[ext_resource type="Shader" path="res://Shaders/Blink.gdshader" id="2_itu4a"]
[ext_resource type="PackedScene" uid="uid://dwq7gd71x1s8b" path="res://Scenes/Tools/EnemyTools/Movement/wander_movement.tscn" id="3_cmuyu"]
[ext_resource type="Texture2D" uid="uid://drdcvpa3xhrv6" path="res://Sprites/Entities/Enemies/Chasers/SheetPhantomSpriteSheet.png" id="5_q0ume"]
[ext_resource type="Script" path="res://Scripts/GunAttack.gd" id="6_cs6jr"]
[ext_resource type="Script" path="res://Scripts/EnemyGun.gd" id="7_okacs"]
[ext_resource type="PackedScene" uid="uid://crcxho345dbmc" path="res://Scenes/Entities/Bullets/slow_bulllet.tscn" id="8_bmtwj"]
[ext_resource type="AudioStream" uid="uid://co0yog6f81o6v" path="res://Audio/SoundEffects/Guns/SlowGunShot.wav" id="8_vshnm"]
[ext_resource type="Script" path="res://Scripts/Resources/ProjectileGun.gd" id="8_x52jx"]
[ext_resource type="Texture2D" uid="uid://q4ovfyng327o" path="res://Sprites/Guns/DefaultPlayerGun.png" id="9_24igt"]
[ext_resource type="PackedScene" uid="uid://dcekneyyyiolx" path="res://Scenes/Effects/shotgun_muzzleflash.tscn" id="9_gayni"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qcnw4"]
resource_local_to_scene = true
size = Vector2(8, 8)

[sub_resource type="Curve" id="Curve_pjqe8"]
min_value = -1.5
_data = [Vector2(0.00277008, -1.5), 0.0, -1.34118, 0, 0, Vector2(0.0470914, -1.5), 0.0, 0.0, 0, 0, Vector2(0.1, 0), 26.7129, 0.0, 0, 0, Vector2(1, 1), 1.24082, 0.0, 0, 0]
point_count = 4

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5v0km"]
resource_local_to_scene = true
size = Vector2(20, 32)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_6xjvb"]
resource_local_to_scene = true
shader = ExtResource("2_itu4a")
shader_parameter/flash_color = Color(1, 1, 1, 1)
shader_parameter/flash_modifier = 0.0

[sub_resource type="AtlasTexture" id="AtlasTexture_qxpat"]
atlas = ExtResource("5_q0ume")
region = Rect2(0, 0, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_qlwep"]
atlas = ExtResource("5_q0ume")
region = Rect2(32, 0, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_gi5gc"]
atlas = ExtResource("5_q0ume")
region = Rect2(64, 0, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_67kpp"]
atlas = ExtResource("5_q0ume")
region = Rect2(96, 0, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_mb8dq"]
atlas = ExtResource("5_q0ume")
region = Rect2(128, 0, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_xj0je"]
atlas = ExtResource("5_q0ume")
region = Rect2(160, 0, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_nrcc4"]
atlas = ExtResource("5_q0ume")
region = Rect2(192, 0, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_52jet"]
atlas = ExtResource("5_q0ume")
region = Rect2(224, 0, 32, 48)

[sub_resource type="SpriteFrames" id="SpriteFrames_kf6ac"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_qxpat")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qlwep")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gi5gc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_67kpp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mb8dq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xj0je")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nrcc4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_52jet")
}],
"loop": true,
"name": &"default",
"speed": 12.0
}]

[sub_resource type="Resource" id="Resource_5a5nh"]
script = ExtResource("8_x52jx")
projectile = ExtResource("8_bmtwj")
projectile_speed = 1100.0
projectiles_per_shot = null
spread = null
burst_count = null
time_between_bursts = null
accuracy = 0.95
bullet_lifetime = 0.08
ignore_iframes = null
damage = 18.0
cooldown = null
on_switch_cooldown = null
type = null
knockback_force = null
shake_force = 0.0
shake_time = 0.0
recoil_strength_degrees = null
recoil_strength_pixels = null
muzzle_flash = ExtResource("9_gayni")
player_push_force = null
push_in_all_directions = null
audio = ExtResource("8_vshnm")

[sub_resource type="AtlasTexture" id="AtlasTexture_qr0w1"]
atlas = ExtResource("9_24igt")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_vwm54"]
atlas = ExtResource("9_24igt")
region = Rect2(32, 0, 32, 32)

[node name="SheetPhantom" node_paths=PackedStringArray("retreat_movement", "default_movement") instance=ExtResource("1_4seie")]
z_index = 12
collision_mask = 0
retreat_movement = NodePath("Movement/WanderMovement")
default_movement = NodePath("Movement/MoveTowardsMovement")

[node name="CollisionShape2D" parent="." index="0"]
shape = SubResource("RectangleShape2D_qcnw4")

[node name="MoveTowardsMovement" type="Node2D" parent="Movement" index="0"]
script = ExtResource("2_8rin2")
speed_increase_over_distance = SubResource("Curve_pjqe8")
velocity_damp = 0.1
move_speed = 65.0

[node name="WanderMovement" parent="Movement" index="1" instance=ExtResource("3_cmuyu")]
move_speed = 65.0

[node name="CollisionShape2D" parent="Hurtbox" index="0"]
shape = SubResource("RectangleShape2D_5v0km")

[node name="HealthManager" parent="." index="4"]
max_health = 160.0

[node name="Sprite" parent="." index="5"]
material = SubResource("ShaderMaterial_6xjvb")
sprite_frames = SubResource("SpriteFrames_kf6ac")
frame = 3
frame_progress = 0.522101

[node name="GunAttack" type="Node2D" parent="ChaserAttacksHolder" index="0"]
script = ExtResource("6_cs6jr")
squared_distance_from_player_to_attack = 6000.0
distance_from_player_to_attack = 56.0
time_between_shots = 2.2

[node name="EnemyGun" type="Node2D" parent="ChaserAttacksHolder/GunAttack" index="0" node_paths=PackedStringArray("spawn_point", "enemy")]
position = Vector2(-3, -1)
script = ExtResource("7_okacs")
spawn_point = NodePath("SpawnPoint")
gun = SubResource("Resource_5a5nh")
enemy = NodePath("../../..")

[node name="SpawnPoint" type="Node2D" parent="ChaserAttacksHolder/GunAttack/EnemyGun" index="0"]
position = Vector2(16, 0)

[node name="Sprite" type="Sprite2D" parent="ChaserAttacksHolder/GunAttack/EnemyGun" index="1"]
position = Vector2(3, 2)
texture = SubResource("AtlasTexture_qr0w1")
offset = Vector2(3, -2)

[node name="Outline" type="Sprite2D" parent="ChaserAttacksHolder/GunAttack/EnemyGun/Sprite" index="0"]
z_index = -3
texture = SubResource("AtlasTexture_vwm54")
offset = Vector2(3, -2)

[node name="RayCast2D" type="RayCast2D" parent="ChaserAttacksHolder/GunAttack" index="1"]
collision_mask = 4

[editable path="Hurtbox"]
