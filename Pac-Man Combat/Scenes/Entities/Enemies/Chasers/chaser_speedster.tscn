[gd_scene load_steps=33 format=3 uid="uid://itvkf0cc2geo"]

[ext_resource type="PackedScene" uid="uid://byf88knlr3kiy" path="res://Scenes/Entities/Enemies/Chasers/enemy_chaser_base.tscn" id="1_qbwia"]
[ext_resource type="Script" path="res://Scripts/Entities/Enemies/StateMachines/SpeedsterStateMachine.gd" id="2_7v68d"]
[ext_resource type="PackedScene" uid="uid://dwq7gd71x1s8b" path="res://Scenes/Tools/EnemyTools/Movement/wander_movement.tscn" id="2_67eyk"]
[ext_resource type="Shader" path="res://Shaders/Blink.gdshader" id="2_o78g4"]
[ext_resource type="PackedScene" uid="uid://bui80x1ox2psd" path="res://Scenes/Tools/EnemyTools/Movement/player_prediction_movement.tscn" id="3_uh22x"]
[ext_resource type="Texture2D" uid="uid://c6qu82xoro4vx" path="res://Sprites/Entities/Enemies/Chasers/Speedster_Spritesheet.png" id="5_ux6wo"]
[ext_resource type="Texture2D" uid="uid://cf2c3qdanq78q" path="res://Sprites/Misc/RoundParticles.png" id="6_rsy5u"]
[ext_resource type="Script" path="res://Scripts/GunAttack.gd" id="7_3a3of"]
[ext_resource type="Script" path="res://Scripts/EnemyGun.gd" id="8_goh6v"]
[ext_resource type="AudioStream" uid="uid://hnupvx4q5kla" path="res://Audio/SoundEffects/Guns/SmgShot.wav" id="10_en80a"]
[ext_resource type="PackedScene" uid="uid://byoeo0a6vyikm" path="res://Scenes/Effects/smg_muzzleflash.tscn" id="10_lyknx"]
[ext_resource type="PackedScene" uid="uid://bd1hjr7uv82nn" path="res://Scenes/Entities/Bullets/smg_bullet.tscn" id="12_0w3yt"]
[ext_resource type="Script" path="res://Scripts/Resources/ProjectileGun.gd" id="13_2ynkg"]
[ext_resource type="Texture2D" uid="uid://clbigmf3j41p6" path="res://Sprites/Guns/Enemy_SMG.png" id="14_1e5o0"]

[sub_resource type="Curve" id="Curve_2wl8u"]
max_value = 1.5
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.67313, 0.868421), 0.558824, 0.558824, 0, 0, Vector2(1, 1.5), 4.14545, 0.0, 0, 0]
point_count = 3

[sub_resource type="RectangleShape2D" id="RectangleShape2D_26p0a"]
resource_local_to_scene = true
size = Vector2(8, 8)

[sub_resource type="Curve" id="Curve_h3q7u"]
max_value = 1.5
_data = [Vector2(0, 0.410526), 0.0, 4.16539, 0, 0, Vector2(0.1, 1), 1.77945, 0.0, 0, 0, Vector2(0.753463, 0.997895), 0.0, 0.0, 0, 0, Vector2(1, 1.5), 2.5186, 0.0, 0, 0]
point_count = 4

[sub_resource type="RectangleShape2D" id="RectangleShape2D_t8dkd"]
resource_local_to_scene = true
size = Vector2(20, 36)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_8x03x"]
resource_local_to_scene = true
shader = ExtResource("2_o78g4")
shader_parameter/flash_color = Color(1, 1, 1, 1)
shader_parameter/flash_modifier = 0.0

[sub_resource type="AtlasTexture" id="AtlasTexture_t3usu"]
atlas = ExtResource("5_ux6wo")
region = Rect2(0, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_8bgei"]
atlas = ExtResource("5_ux6wo")
region = Rect2(64, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_7wego"]
atlas = ExtResource("5_ux6wo")
region = Rect2(128, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_x88hs"]
atlas = ExtResource("5_ux6wo")
region = Rect2(192, 0, 64, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_xoyt0"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_t3usu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8bgei")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7wego")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x88hs")
}],
"loop": true,
"name": &"default",
"speed": 12.0
}]

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_nf0mr"]
particles_animation = true
particles_anim_h_frames = 8
particles_anim_v_frames = 1
particles_anim_loop = false

[sub_resource type="Curve" id="Curve_ghcad"]
_data = [Vector2(0, 0), 0.0, 8.60661, 0, 0, Vector2(0.169291, 1), 0.0, 0.0, 0, 0, Vector2(0.629921, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), -5.50629, 0.0, 0, 0]
point_count = 4

[sub_resource type="CurveTexture" id="CurveTexture_vq801"]
curve = SubResource("Curve_ghcad")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_i1186"]
lifetime_randomness = 0.5
particle_flag_disable_z = true
direction = Vector3(1, -2, 0)
spread = 10.0
flatness = 1.0
gravity = Vector3(0, 120, 0)
initial_velocity_min = 10.0
initial_velocity_max = 30.0
orbit_velocity_min = 0.0
orbit_velocity_max = 0.0
scale_curve = SubResource("CurveTexture_vq801")
color = Color(0.839216, 0.839216, 0.839216, 1)
anim_offset_min = 0.3
anim_offset_max = 0.6

[sub_resource type="AtlasTexture" id="AtlasTexture_dtpst"]
atlas = ExtResource("6_rsy5u")
region = Rect2(0, 0, 128, 16)

[sub_resource type="Resource" id="Resource_t7kgv"]
script = ExtResource("13_2ynkg")
projectile = ExtResource("12_0w3yt")
projectile_speed = 750.0
projectiles_per_shot = 1
spread = 20.0
burst_count = 4
time_between_bursts = 0.1
accuracy = 0.7
bullet_lifetime = 0.125
ignore_iframes = true
damage = 8.0
cooldown = 0.5
on_switch_cooldown = 0.05
type = 1
knockback_force = 0.0
shake_force = 0.0
shake_time = 0.0
recoil_strength_degrees = 18.0
recoil_strength_pixels = 0.0
muzzle_flash = ExtResource("10_lyknx")
player_push_force = 0.0
push_in_all_directions = false
audio = ExtResource("10_en80a")

[sub_resource type="AtlasTexture" id="AtlasTexture_w7bs6"]
atlas = ExtResource("14_1e5o0")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_b4wsr"]
atlas = ExtResource("14_1e5o0")
region = Rect2(32, 0, 32, 32)

[node name="Speedster" node_paths=PackedStringArray("retreat_movement", "default_movement") instance=ExtResource("1_qbwia")]
script = ExtResource("2_7v68d")
speed_over_rounds = SubResource("Curve_2wl8u")
retreat_movement = NodePath("Movement/WanderMovement")
default_movement = NodePath("Movement/PlayerPredictionMovement")

[node name="CollisionShape2D" parent="." index="0"]
shape = SubResource("RectangleShape2D_26p0a")

[node name="CollisionAvoidance" parent="." index="1"]
push_force = 50.0

[node name="WanderMovement" parent="Movement" index="0" instance=ExtResource("2_67eyk")]
move_speed = 110.0

[node name="PlayerPredictionMovement" parent="Movement" index="1" instance=ExtResource("3_uh22x")]
min_predict_distance_in_tiles = 0
max_predict_distance_in_tiles = 32
rush_update_time = 0.1
max_rush_distance = 16.0
distance_from_player_to_rush_in_tiles = 16
speed_over_distance = SubResource("Curve_h3q7u")
dumb_prediction = true
move_speed = 110.0

[node name="Timer" parent="Movement/PlayerPredictionMovement/NavigationAgent2D" index="0"]
wait_time = 0.5

[node name="CollisionShape2D" parent="Hurtbox" index="0"]
shape = SubResource("RectangleShape2D_t8dkd")

[node name="Sprite" parent="." index="5"]
modulate = Color(1, 1, 1, 1)
material = SubResource("ShaderMaterial_8x03x")
sprite_frames = SubResource("SpriteFrames_xoyt0")
frame = 1
frame_progress = 0.411783

[node name="GPUParticles2D" type="GPUParticles2D" parent="Sprite" index="0"]
z_index = -5
material = SubResource("CanvasItemMaterial_nf0mr")
position = Vector2(7, 8)
process_material = SubResource("ParticleProcessMaterial_i1186")
texture = SubResource("AtlasTexture_dtpst")
lifetime = 0.8
preprocess = 1.0
speed_scale = 2.0
explosiveness = 0.5
randomness = 0.5
local_coords = true

[node name="GPUParticles2D2" type="GPUParticles2D" parent="Sprite" index="1"]
z_index = -5
material = SubResource("CanvasItemMaterial_nf0mr")
position = Vector2(-8, 8)
process_material = SubResource("ParticleProcessMaterial_i1186")
texture = SubResource("AtlasTexture_dtpst")
lifetime = 0.8
preprocess = 1.0
speed_scale = 2.0
explosiveness = 0.5
randomness = 0.5
local_coords = true

[node name="ArmoredHealthBar" parent="." index="6"]
offset_top = -23.0
offset_bottom = -17.0

[node name="GunAttack" type="Node2D" parent="ChaserAttacksHolder" index="0"]
script = ExtResource("7_3a3of")
squared_distance_from_player_to_attack = 10000.0
time_between_shots = 2.5
shot_start_time = 0.15

[node name="EnemyGun" type="Node2D" parent="ChaserAttacksHolder/GunAttack" index="0" node_paths=PackedStringArray("spawn_point", "enemy")]
script = ExtResource("8_goh6v")
spawn_point = NodePath("SpawnPoint")
gun = SubResource("Resource_t7kgv")
enemy = NodePath("../../..")

[node name="SpawnPoint" type="Node2D" parent="ChaserAttacksHolder/GunAttack/EnemyGun" index="0"]
position = Vector2(17, -1)

[node name="Sprite" type="Sprite2D" parent="ChaserAttacksHolder/GunAttack/EnemyGun" index="1"]
position = Vector2(-2, 0)
texture = SubResource("AtlasTexture_w7bs6")
offset = Vector2(15, 0)

[node name="Outline" type="Sprite2D" parent="ChaserAttacksHolder/GunAttack/EnemyGun/Sprite" index="0"]
z_index = -3
texture = SubResource("AtlasTexture_b4wsr")
offset = Vector2(15, 0)

[editable path="Movement/PlayerPredictionMovement"]
[editable path="Hurtbox"]
